generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["jsonProtocol", "postgresqlExtensions"]
}

datasource db {
  provider  = "postgresql"
  url       = env("PRISMA_PROXY_URL") // uses connection pooling
  directUrl = env("POSTGRES_URL_NON_POOLING") // uses a direct connection
}

model Article {
  id                       String    @id @default(cuid())
  title                    String?
  author                   Author?   @relation(fields: [authorId], references: [id])
  authorId                 String?
  published_date           DateTime?
  published_date_precision String?
  link                     String?
  clean_url                String?
  excerpt                  String?
  summary                  String?
  rights                   String?
  rank                     Int?
  topic                    String?
  country                  String?
  language                 String?
  authors                  String?
  media                    String?
  is_opinion               Boolean?
  twitter_account          String?
  external_score           Float?
  external_id              String?   @unique
  createdAt                DateTime  @default(now())
  updatedAt                DateTime  @default(now()) @updatedAt
}

model Author {
  id       String    @id @default(cuid())
  name     String?
  outlet   String?
  articles Article[]

  @@unique([name, outlet])
}
